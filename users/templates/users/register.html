{% extends "core/base.html" %}
{% load static %}

{% block title %}Register{% endblock %}

{% block content %}
<header>
    <div class="navbar">
        <span class="menu-icon" onclick="openMenu()">&#9776;</span>
        <img src="{% static 'core/images/logo.png' %}" alt="V Planner Logo" class="logo">
    </div>
</header>
<main>
    <h2 class="welcome-title">Register</h2>
    <div class="form-container">
        <form method="post" id="registration-form">
            {% csrf_token %}
            {{ form.first_name.label_tag }} {{ form.first_name }}
            {{ form.last_name.label_tag }} {{ form.last_name }}
            {{ form.email.label_tag }} {{ form.email }}
            {{ form.password.label_tag }} {{ form.password }}
            {{ form.role.label_tag }} {{ form.role }}
            <div id="title-field" style="display:none;">
                {{ form.title.label_tag }} {{ form.title }}
            </div>
            <button type="submit">Register</button>
        </form>
    </div>
</main>
<script>
document.addEventListener('DOMContentLoaded', function() {
    var roleSelect = document.getElementById('id_role');
    var titleField = document.getElementById('title-field');
    function toggleTitleField() {
        if (roleSelect.value === 'professional') {
            titleField.style.display = 'block';
        } else {
            titleField.style.display = 'none';
        }
    }
    roleSelect.addEventListener('change', toggleTitleField);
    toggleTitleField();
});
</script>
{% endblock %}